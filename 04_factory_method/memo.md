# 感想

- 何となく分かっているつもりになっていたが、改めて考えると掴むのが難しかった
- つかいどころは以下と理解した
  - ポリモーフィックに扱いたいものがあり、かつ、**それを利用者が任意のタイミングで初期化したい**
- ファクトリの一種としてコンストラクタを渡すという形もありえそうだが、ファクトリには以下の良さがある
  - 少なくとも typescript では、コンストラクタを factory として利用するよりも、型注釈がずっとシンプル
    - コンストラクタを factory として利用しようとすると「abstract class はインスタンス化できないよ」というエラーがでてきたりする
  - 具象クラスのコンストラクタではない部分に、具象クラスのインスタンス生成に伴う処理を記述することができる
    - 本の例だと `registerProduct()` がそれ
    - 実際どういうケースでそういう処理があるのかはイメージできていないが
- まあ必要なときにこういう発想をするのは普通にできそう。業務で触れている angular の DI でも factory を provide することは多いので

# 練習問題

## 1

- java 固有の話
- 無印だと同一 package からしか呼び出せない
- つまり他の package から IDCard のインスタンスを生成する場合、IDCardFactory を経由することを強制している

## 2

- `MarkdownHeader`に通し番号をつけて、`MarkdownHeaderFactory`が通し番号の対応表を持つようにした。

## 3

- java ではコンストラクタは継承されないので、abstract なコンストラクタには意味がないとのこと
- typescript ではコンストラクタも継承されている。けっこう大きい違いがあるんだな
