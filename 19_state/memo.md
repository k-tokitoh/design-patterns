# 感想

- state は状態そのものではなくて、ある状態における振る舞いの集合を表すんだな
- 「状態」よりも一般化して「各所に散在する条件分岐を共通化して抽出したもの」かもしれない
- state の決定の仕方にはバリエーションがありそう
  - 現在の state に依存せず決定する場合
    - この場合は state ではなく、state を持つ側でロジックをもっているとよさそう
  - 現在の state に依存して決定する場合
    - この場合は以下 2 とおりある
      - それぞれの state が次の state への遷移のロジックをもつ
      - state 間の遷移全体を、state を持つ側で管理する（専用のクラスに切り出してもいいかも）
- 本の例、なんかうまくない印象
- state を保持するクラスの一般的な呼び方が context なの、あまりしっくりきてない
  - context っていうとあるメソッドの振る舞いに影響するオプション引数をそう呼ぶ印象が強く、それとは全然異なるから、かな

# 練習問題

## 1

- state パターンとは関係ない部分であり、それゆえ自分のコードには登場しない問題なのでスキップ

## 2

- 本の例で言うと、各 State の doClick メソッドを変更する必要がある。

## 3

- independent_on_current_state で 3 つめの state を実装した。

## 4

- context 側から特定の処理の中で強制的に状態を変更するのを independent_on_current_state で実装した。
